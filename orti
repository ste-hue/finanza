#!/bin/bash

# ğŸ¯ ORTI Finance - Unified Command (MCP Supabase Direct)
# Usage: ./orti [start|stop|status]

case "${1:-help}" in
  "start")
    echo "ğŸš€ Starting ORTI Finance..."
    ./orti-start.sh
    ;;
  "stop")
    echo "ğŸ›‘ Stopping ORTI Finance..."
    pkill -f "vite\|node.*5173" 2>/dev/null || true
    echo "âœ… All processes stopped"
    ;;
  "status")
    echo "ğŸ“Š ORTI Finance Status..."
    echo ""
    if curl -s "http://localhost:5173" | grep -q "DOCTYPE"; then
      echo "âœ… Frontend: Active on http://localhost:5173"
    else
      echo "âŒ Frontend: Not running"
    fi
    echo ""
    echo "ğŸ”§ Architecture: Frontend â†’ MCP Supabase â†’ Database"
    echo "ğŸ“ Dashboard: http://localhost:5173"
    ;;
  *)
    echo "ğŸ¯ ORTI Finance - MCP Direct Architecture"
    echo ""
    echo "  ./orti start   ğŸš€ Start dashboard"
    echo "  ./orti stop    ğŸ›‘ Stop all processes"  
    echo "  ./orti status  ğŸ“Š Check status"
    echo ""
    echo "ğŸ“ Access: http://localhost:5173"
    echo "ğŸ—ï¸ Architecture: React â†’ Supabase Direct â†’ Database"
    echo ""
    ;;
esac